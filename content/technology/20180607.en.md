---
title: Login to Linux Using RSA Public Key
date: 2018-06-07 23:08:50
author: George
authorTwitter: GeorgeBornAgain
cover: covers/20180607-ssh-key-login.jpg
tags: ["ssh", "key", "rsa"]
keywords: ["ssh", "key", "rsa"]
description: I've been using username and password to log in to Linux servers, but recently I found many failed login attempts in the Linux logs, with many IPs trying to brute force user passwords. For security reasons, I decided to disable password login and use SSH RSA Key for authentication instead.
showFullContent: false
readingTime: false
---

# Generate RSA Key

```bash
$ ssh-keygen -t rsa -b 4096
```

# Copy the Public Key to the Server

```bash
$ ssh-copy-id -i ~/.ssh/id_rsa user@host
```

> Replace 'user' with your server username and 'host' with your server address

# Modify Server Configuration File

After copying the ID, we need to log in to the server first and modify the SSHD configuration file to enable `PubkeyAuthentication` and disable `PasswordAuthentication`:

```conf
PubkeyAuthentication yes
PasswordAuthentication no
```

Save the modified configuration file, then restart the SSHD service:

```bash
systemctl restart sshd
```

# Modify Local Configuration File

Modify the content of `~/.ssh/config` (create it if it doesn't exist):

```bash
Host *
  IgnoreUnknown UseKeychain
  AddKeysToAgent yes
  UseKeychain yes
  IdentityFile ~/.ssh/id_rsa
```

This means that all Hosts will use the id_rsa we just generated. Of course, you can also configure different Hosts separately.

This completes the entire configuration process. Now you can test whether you can log in.

I hope this is helpful, Happy hacking...