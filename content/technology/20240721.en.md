---
title: Migrating Blog to Vercel
date: 2024-07-21T08:50:51+08:00
tags: [Firebase, Hosting, Cloudflare, Hugo, SSL, CDN, OSS]
draft: false
cover: covers/20240721-vercel-cloudflare.jpg
images:
  - covers/20240721-vercel-cloudflare.jpg
author: George
keywords: [Firebase, Hosting, Cloudflare, Hugo, SSL, CDN, OSS]
description: I just migrated my blog from Upyun to Vercel. Although there wasn't much traffic cost on Upyun, applying for Let's Encrypt certificates always caused problems...
readingTime: true
authorTwitter: GeorgeBornAgain
showFullContent: false
---

# Introduction

Those who play with blogs probably go through this process: initially setting up their own VPS, then migrating to cloud service providers or OSS, and then adding a CDN.

Originally, my blog was deployed on Upyun OSS in China. I frequently received email reminders saying that my HTTPS certificate application had failed. Additionally, every time GitHub Actions synchronized the built static resources to Upyun OSS, it was extremely time-consuming, which was the most unbearable part for me!

So I decided to migrate my blog to Vercel and use Cloudflare to accelerate the website...

# Cloudflare

* Add domain
![Add Domain](/article/20240721-cloudflare-add-domian-01.png)

* Select payment plan
![Select Plan](/article/20240721-cloudflare-add-domian-02.png)

* Scan domain settings
![Scan Domain Records](/article/20240721-cloudflare-add-domian-03.png)

* Activate domain
![Active Domain](/article/20240721-cloudflare-add-domian-04.png)

Go to your domain's cloud service provider and change its DNS to Cloudflare's DNS. Cloudflare will thoughtfully synchronize existing resolution records.

* Wait for activation
![Waiting Active](/article/20240721-cloudflare-add-domian-05.png)

# Domain Settings

![Aliyun DNS Config](/article/20240721-aliyun-dns-config.png)

# Vercel

![Vercel Domain Config](/article/20240721-vercel-domains.png)

Then go to Cloudflare to add Vercel's CNAME settings!

![Cloudflare CNAME](/article/20240721-cloudflare-cname-config.png)

> When the proxy status above shows as proxied, it means all requests will go through Cloudflare's servers, which enables global acceleration!

# Issues Encountered

After configuring everything, I found that requests were constantly being redirected with the error code: ERR_TOO_MANY_REDIRECTS. The solution can be found in [Cloudflare's official documentation](https://developers.cloudflare.com/ssl/troubleshooting/too-many-redirects/).

# Conclusion

With the above configuration, you can now enjoy Vercel's web services and Cloudflare's global CDN acceleration for free...

I hope this is helpful, Happy hacking...